var u=Object.defineProperty,O=Object.defineProperties,v=Object.getOwnPropertyDescriptor,z=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var x=(e,t,o)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,b=(e,t)=>{for(var o in t||(t={}))y.call(t,o)&&x(e,o,t[o]);if(h)for(var o of h(t))T.call(t,o)&&x(e,o,t[o]);return e},M=(e,t)=>O(e,z(t));var d=(e,t)=>()=>(e&&(t=e(e=0)),t);var F=(e,t)=>{for(var o in t)u(e,o,{get:t[o],enumerable:!0})},L=(e,t,o,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of G(t))!y.call(e,n)&&n!==o&&u(e,n,{get:()=>t[n],enumerable:!(r=v(t,n))||r.enumerable});return e};var P=e=>L(u({},"__esModule",{value:!0}),e);function g(e,t){if(typeof __html__=="undefined")throw new Error("No UI defined");let o=`<div id="create-figma-plugin"></div><script>document.body.classList.add('theme-${figma.editorType}');const __FIGMA_COMMAND__='${typeof figma.command=="undefined"?"":figma.command}';const __SHOW_UI_DATA__=${JSON.stringify(typeof t=="undefined"?{}:t)};${__html__}</script>`;figma.showUI(o,M(b({},e),{themeColors:typeof e.themeColors=="undefined"?!0:e.themeColors}))}var C=d(()=>{});var S=d(()=>{C()});function w(){return{stripeDensity:80,widthVariation:30,frosting:50,clarity:70,refractionIntensity:30,blurZoneCount:5,quality:"standard",randomSeed:Date.now()}}function A(e,t){let o={width:"width"in e?e.width:0,height:"height"in e?e.height:0,x:"x"in e?e.x:0,y:"y"in e?e.y:0},r=t.quality==="draft"?{stripeMult:.5,lineMult:.5,zones:3}:t.quality==="high"?{stripeMult:1.75,lineMult:1.75,zones:8}:{stripeMult:1,lineMult:1,zones:5},n=figma.createFrame();n.name="Glass Overlay",n.resize(o.width,o.height),n.x=o.x,n.y=o.y,n.fills=[];let i=Math.floor(t.stripeDensity*r.stripeMult);q(o,i,t.widthVariation,t.randomSeed).forEach(c=>n.appendChild(c));let a=Math.floor(i*.5*r.lineMult);V(o,a,t.refractionIntensity,t.randomSeed).forEach(c=>n.appendChild(c));let m=r.zones;return W(o,m,t.frosting,t.randomSeed).forEach(c=>n.appendChild(c)),n.blendMode="OVERLAY",n.opacity=t.clarity/100,n}function q(e,t,o,r){let n=[],i=e.width/t,s=0;for(let m=0;m<t;m++){let f=i;if(o>0){let c=(p(r+m)-.5)*(o/100)*2;f=i*(1+c)}n.push({x:s,width:f}),s+=f}let a=n.reduce((m,f)=>m+f.width,0),l=e.width/a;s=0;for(let m of n)m.width*=l,m.x=s,s+=m.width;return n.map((m,f)=>{let c=figma.createRectangle();c.x=m.x,c.y=0,c.resize(Math.max(.1,m.width),e.height);let B=.05+p(r+f*2)*.15,D=.15+p(r+f*3)*.1,U=.05+p(r+f*4)*.15;return c.fills=[{type:"GRADIENT_LINEAR",gradientTransform:[[1,0,0],[0,1,0]],gradientStops:[{position:0,color:{r:1,g:1,b:1,a:B}},{position:.5,color:{r:1,g:1,b:1,a:D}},{position:1,color:{r:1,g:1,b:1,a:U}}]}],c})}function V(e,t,o,r){return H(t,e.width,r).map((i,s)=>{let a=figma.createRectangle(),l=1+p(r+s*5)*2;return a.resize(l,e.height),a.x=i,a.y=0,a.fills=[{type:"SOLID",color:{r:1,g:1,b:1},opacity:o/100*.1}],a.effects=[{type:"BACKGROUND_BLUR",radius:8,visible:!0}],a})}function W(e,t,o,r){let n=[];for(let i=0;i<t;i++){let s=figma.createRectangle(),a=e.width*(.2+p(r+i*6)*.3),l=e.height*(.3+p(r+i*7)*.4);s.resize(a,l),s.x=p(r+i*8)*(e.width-a),s.y=p(r+i*9)*(e.height-l),s.fills=[{type:"SOLID",color:{r:1,g:1,b:1},opacity:.03+p(r+i*10)*.05}],s.effects=[{type:"BACKGROUND_BLUR",radius:o/100*40,visible:!0}],n.push(s)}return n}function H(e,t,o){let r=[],n=(1+Math.sqrt(5))/2;for(let i=0;i<e;i++){let a=i*n%1*t;r.push(a)}return r.sort((i,s)=>i-s)}function p(e){let t=Math.sin(e)*1e4;return t-Math.floor(t)}var N=d(()=>{});var _={};F(_,{default:()=>I});function I(){g({width:320,height:500}),E(),figma.on("selectionchange",()=>{E()}),figma.ui.onmessage=e=>{var t;if(e.type==="apply-effect"){let o=figma.currentPage.selection;if(o.length===0){figma.ui.postMessage({type:"error",message:"Please select a layer to apply the effect"});return}let r=o[0];if(r.type!=="FRAME"&&r.type!=="GROUP"){figma.ui.postMessage({type:"error",message:"Effect can only be applied to frames or groups"});return}let n=(t=e.settings)!=null?t:w();try{let i=A(r,n);"x"in r&&"y"in r&&(i.x=r.x,i.y=r.y),figma.ui.postMessage({type:"success",message:"Effect applied! Press Cmd/Ctrl+Z to undo."})}catch(i){figma.ui.postMessage({type:"error",message:`Error applying effect: ${i instanceof Error?i.message:"Unknown error"}`})}}}}function E(){let e=figma.currentPage.selection.length>0;figma.ui.postMessage({type:"selection-changed",hasSelection:e})}var R=d(()=>{S();N()});var $={"src/main/main.ts--default":(R(),P(_)).default},X="src/main/main.ts--default";$[X]();
